<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="ferroamp"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
    xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

    <thing-type id="energyhub">
        <label>Ferroamp Binding Thing</label>
        <description>Provides information from Ferroamp EnergyHub</description>
        
        <channels>
            <channel id="grid-frequency" typeId="frequency">
                <label>Estimated Grid Frequency</label>
            </channel>
            <channel id="ace-current-l1" typeId="electric-current">
                <label>ACE Current L1</label>
            </channel>
            <channel id="ace-current-l2" typeId="electric-current">
                <label>ACE Current L2</label>
            </channel>
            <channel id="ace-current-l3" typeId="electric-current">
                <label>ACE Current L3</label>
            </channel>
            <channel id="external-voltage-l1" typeId="electric-potential">
                <label>External Voltage L1</label>
            </channel>
            <channel id="external-voltage-l2" typeId="electric-potential">
                <label>External Voltage L2</label>
            </channel>
            <channel id="external-voltage-l3" typeId="electric-potential">
                <label>External Voltage L3</label>
            </channel>
            <channel id="inverter-rms-current-l1" typeId="electric-current">
                <label>Inverter RMS Current L1</label>
            </channel>
            <channel id="inverter-rms-current-l2" typeId="electric-current">
                <label>Inverter RMS Current L2</label>
            </channel>
            <channel id="inverter-rms-current-l3" typeId="electric-current">
                <label>Inverter RMS Current L3</label>
            </channel>
            <channel id="inverter-current-reactive-l1" typeId="electric-current">
                <label>Inverter Reactive Current L1</label>
            </channel>
            <channel id="inverter-current-reactive-l2" typeId="electric-current">
                <label>Inverter Reactive Current L2</label>
            </channel>
            <channel id="inverter-current-reactive-l3" typeId="electric-current">
                <label>Inverter Reactive Current L3</label>
            </channel>
            <channel id="inverter-current-active-l1" typeId="electric-current">
                <label>Inverter Active Current L1</label>
            </channel>
            <channel id="inverter-current-active-l2" typeId="electric-current">
                <label>Inverter Active Current L2</label>
            </channel>
            <channel id="inverter-current-active-l3" typeId="electric-current">
                <label>Inverter Active Current L3</label>
            </channel>
            <channel id="grid-current-l1" typeId="electric-current">
                <label>Grid Current L1</label>
            </channel>
            <channel id="grid-current-l2" typeId="electric-current">
                <label>Grid Current L2</label>
            </channel>
            <channel id="grid-current-l3" typeId="electric-current">
                <label>Grid Current L3</label>
            </channel>
            <channel id="grid-current-reactive-l1" typeId="electric-current">
                <label>Grid Reactive Current L1</label>
            </channel>
            <channel id="grid-current-reactive-l2" typeId="electric-current">
                <label>Grid Reactive Current L2</label>
            </channel>
            <channel id="grid-current-reactive-l3" typeId="electric-current">
                <label>Grid Reactive Current L3</label>
            </channel>
            <channel id="grid-current-active-l1" typeId="electric-current">
                <label>Grid Current Active L1</label>
            </channel>
            <channel id="grid-current-active-l2" typeId="electric-current">
                <label>Grid Current Active L2</label>
            </channel>
            <channel id="grid-current-active-l3" typeId="electric-current">
                <label>Grid Current Active L3</label>
            </channel>
            <channel id="inverter-reactive-current-l1" typeId="electric-current">
                <label>Inverter Reactive Current L1</label>
            </channel>
            <channel id="inverter-reactive-current-l2" typeId="electric-current">
                <label>Inverter Reactive Current L2</label>
            </channel>
            <channel id="inverter-reactive-current-l3" typeId="electric-current">
                <label>Inverter Reactive Current L3</label>
            </channel>
            <channel id="inverter-load-l1" typeId="electric-current">
                <label>Inverter Load L1</label>
            </channel>
            <channel id="inverter-load-l2" typeId="electric-current">
                <label>Inverter Load L2</label>
            </channel>
            <channel id="inverter-load-l3" typeId="electric-current">
                <label>Inverter Load L3</label>
            </channel>
            <channel id="apparent-power" typeId="energy">
                <label>Apparent Power</label>
            </channel>
            <channel id="grid-power-active-l1" typeId="power">
                <label>Grid Power Active L1</label>
            </channel>
            <channel id="grid-power-active-l2" typeId="power">
                <label>Grid Power Active L2</label>
            </channel>
            <channel id="grid-power-active-l3" typeId="power">
                <label>Grid Power Active L3</label>
            </channel>
            <channel id="grid-power-reactive-l1" typeId="power">
                <label>Grid Power Reactive L1</label>
            </channel>
            <channel id="grid-power-reactive-l2" typeId="power">
                <label>Grid Power Reactive L2</label>
            </channel>
            <channel id="grid-power-reactive-l3" typeId="power">
                <label>Grid Power Reactive L3</label>
            </channel>
            <channel id="inverter-power-active-l1" typeId="power">
                <label>Inverter Power Active L1</label>
            </channel>
            <channel id="inverter-power-active-l2" typeId="power">
                <label>Inverter Power Active L2</label>
            </channel>
            <channel id="inverter-power-active-l3" typeId="power">
                <label>Inverter Power Active L3</label>
            </channel>
            <channel id="inverter-power-reactive-l1" typeId="power">
                <label>Inverter Power Reactive L1</label>
            </channel>
            <channel id="inverter-power-reactive-l2" typeId="power">
                <label>Inverter Power Reactive L2</label>
            </channel>
            <channel id="inverter-power-reactive-l3" typeId="power">
                <label>Inverter Power Reactive L3</label>
            </channel>
            <channel id="consumption-power-l1" typeId="power">
                <label>Consumption Power L1</label>
            </channel>
            <channel id="consumption-power-l2" typeId="power">
                <label>Consumption Power L2</label>
            </channel>
            <channel id="consumption-power-l3" typeId="power">
                <label>Consumption Power L3</label>
            </channel>
            <channel id="consumption-power-reactive-l1" typeId="power">
                <label>Consumption Power Reactive L1</label>
            </channel>
            <channel id="consumption-power-reactive-l2" typeId="power">
                <label>Consumption Power Reactive L2</label>
            </channel>
            <channel id="consumption-power-reactive-l3" typeId="power">
                <label>Consumption Power Reactive L3</label>
            </channel>
            <channel id="solar-pv" typeId="power">
                <label>Solar Power</label>
            </channel>
            <channel id="positive-dc-link-voltage" typeId="electric-potential">
                <label>Positive DC Link Voltage</label>
            </channel>
            <channel id="negative-dc-link-voltage" typeId="electric-potential">
                <label>Negative DC Link Voltage</label>
            </channel>
            <channel id="grid-energy-produced-l1" typeId="energy">
                <label>Grid Energy Produced L1</label>
            </channel>
            <channel id="grid-energy-produced-l2" typeId="energy">
                <label>Grid Energy Produced L2</label>
            </channel>
            <channel id="grid-energy-produced-l3" typeId="energy">
                <label>Grid Energy Produced L3</label>
            </channel>
            <channel id="grid-energy-consumed-l1" typeId="energy">
                <label>Grid Energy Consumed L1</label>
            </channel>
            <channel id="grid-energy-consumed-l2" typeId="energy">
                <label>Grid Energy Consumed L2</label>
            </channel>
            <channel id="grid-energy-consumed-l3" typeId="energy">
                <label>Grid Energy Consumed L3</label>
            </channel>
            <channel id="inverter-energy-produced-l1" typeId="energy">
                <label>Inverter Energy Produced L1</label>
            </channel>
            <channel id="inverter-energy-produced-l2" typeId="energy">
                <label>Inverter Energy Produced L2</label>
            </channel>
            <channel id="inverter-energy-produced-l3" typeId="energy">
                <label>Inverter Energy Produced L3</label>
            </channel>
            <channel id="inverter-energy-consumed-l1" typeId="energy">
                <label>Inverter Energy Consumed L1</label>
            </channel>
            <channel id="inverter-energy-consumed-l2" typeId="energy">
                <label>Inverter Energy Consumed L2</label>
            </channel>
            <channel id="inverter-energy-consumed-l3" typeId="energy">
                <label>Inverter Energy Consumed L3</label>
            </channel>
            <channel id="load-energy-produced-l1" typeId="energy">
                <label>Load Energy Produced L1</label>
            </channel>
            <channel id="load-energy-produced-l2" typeId="energy">
                <label>Load Energy Produced L2</label>
            </channel>
            <channel id="load-energy-produced-l3" typeId="energy">
                <label>Load Energy Produced L3</label>
            </channel>
            <channel id="load-energy-consumed-l1" typeId="energy">
                <label>Load Energy Consumed L1</label>
            </channel>
            <channel id="load-energy-consumed-l2" typeId="energy">
                <label>Load Energy Consumed L2</label>
            </channel>
            <channel id="load-energy-consumed-l3" typeId="energy">
                <label>Load Energy Consumed L3</label>
            </channel>
            <channel id="grid-energy-produced-total" typeId="energy">
                <label>Total Produced Grid Energy</label>
            </channel>
            <channel id="grid-energy-consumed-total" typeId="energy">
                <label>Total Consumed Grid Energy</label>
            </channel>
            <channel id="inverter-energy-produced-total" typeId="energy">
                <label>Total Produced Inverter Energy</label>
            </channel>
            <channel id="inverter-energy-consumed-total" typeId="energy">
                <label>Total Consumed Inverter Energy</label>
            </channel>
            <channel id="load-energy-produced-total" typeId="energy">
                <label>Total Produced Load Energy</label>
            </channel>
            <channel id="load-energy-consumed-total" typeId="energy">
                <label>Total Consumed Load Energy</label>
            </channel>
            <channel id="total-solar-energy" typeId="power">
                <label>Total Solar Energy</label>
            </channel>
            <channel id="state" typeId="string">
                <label>State of the System</label>
            </channel>
            <channel id="timestamp" typeId="date-time">
                <label>Time Stamp When Message was Published</label>
            </channel>
            <channel id="battery-energy-produced" typeId="energy">
                <label>Battery Energy Produced</label>
            </channel>
            <channel id="battery-energy-consumed" typeId="energy">
                <label>Battery Energy Consumed</label>
            </channel>
            <channel id="soc" typeId="dimensionless">
                <label>System State of Charge</label>
            </channel>
            <channel id="soh" typeId="dimensionless">
                <label>System State of Health</label>
            </channel>
            <channel id="power-battery" typeId="power">
                <label>Battery Power</label>
            </channel>
            <channel id="total-capacity-batteries" typeId="energy">
                <label>Total Rated Capacity of All Batteries</label>
            </channel>
            <channel id="s0-id" typeId="string">
                <label>S0 ID</label>
            </channel>
            <channel id="s0-pv-voltage" typeId="electric-potential">
                <label>S0 Measured Voltage on PV String Side</label>
            </channel>
            <channel id="s0-pv-current" typeId="electric-current">
                <label>S0 Measured Current on PV String Side</label>
            </channel>
            <channel id="s0-total-solar-energy" typeId="energy">
                <label>S0 Total Solar Energy</label>
            </channel>
            <channel id="s0-relay-status" typeId="string">
                <label>S0 RelayStatus</label>
            </channel>
            <channel id="s0-temperature" typeId="temperature">
                <label>S0 Temperature Measured on PCB</label>
            </channel>
            <channel id="s0-fault-code" typeId="string">
                <label>S0 FaultCode</label>
            </channel>
            <channel id="s0-dc-link-voltage" typeId="electric-potential">
                <label>S0 DC Link Voltage</label>
            </channel>
            <channel id="s0-timestamp" typeId="date-time">
                <label>S0 Time Stamp When Message was Published</label>
            </channel>
            <channel id="s1-id" typeId="string">
                <label>S1 ID</label>
            </channel>
            <channel id="s1-pv-voltage" typeId="electric-potential">
                <label>S1 Measured Voltage on PV String Side</label>
            </channel>
            <channel id="s1-pv-current" typeId="electric-current">
                <label>S1 Measured Current on PV String Side</label>
            </channel>
            <channel id="s1-total-solar-energy" typeId="energy">
                <label>S1 Total Solar Energy</label>
            </channel>
            <channel id="s1-relay-status" typeId="string">
                <label>S1 RelayStatus</label>
            </channel>
            <channel id="s1-temperature" typeId="temperature">
                <label>S1 Temperature Measured on PCB</label>
            </channel>
            <channel id="s1-fault-code" typeId="string">
                <label>S1 FaultCode</label>
            </channel>
            <channel id="s1-dc-link-voltage" typeId="electric-potential">
                <label>S1 DC Link Voltage</label>
            </channel>
            <channel id="s1-timestamp" typeId="date-time">
                <label>S1 Time Stamp When Message was Published</label>
            </channel>
            <channel id="s2-id" typeId="string">
                <label>S2 ID</label>
            </channel>
            <channel id="s2-pv-voltage" typeId="electric-potential">
                <label>S2 Measured Voltage on PV String Side</label>
            </channel>
            <channel id="s2-pv-current" typeId="electric-current">
                <label>S2 Measured Current on PV String Side</label>
            </channel>
            <channel id="s2-total-solar-energy" typeId="energy">
                <label>S2 Total Solar Energy</label>
            </channel>
            <channel id="s2-relay-status" typeId="string">
                <label>S2 RelayStatus</label>
            </channel>
            <channel id="s2-temperature" typeId="temperature">
                <label>S2 Temperature Measured on PCB</label>
            </channel>
            <channel id="s2-fault-code" typeId="string">
                <label>S2 FaultCode</label>
            </channel>
            <channel id="s2-dc-link-voltage" typeId="electric-potential">
                <label>S2 DC Link Voltage</label>
            </channel>
            <channel id="s2-timestamp" typeId="date-time">
                <label>S2 Time Stamp When Message was Published</label>
            </channel>
            <channel id="s3-id" typeId="string">
                <label>S3 ID</label>
            </channel>
            <channel id="s3-pv-voltage" typeId="electric-potential">
                <label>S3 Measured Voltage on PV String Side</label>
            </channel>
            <channel id="s3-pv-current" typeId="electric-current">
                <label>S3 Measured Current on PV String Side</label>
            </channel>
            <channel id="s3-total-solar-energy" typeId="energy">
                <label>S3 Total Solar Energy</label>
            </channel>
            <channel id="s3-relay-status" typeId="string">
                <label>S3 RelayStatus</label>
            </channel>
            <channel id="s3-temperature" typeId="temperature">
                <label>S3 Temperature Measured on PCB</label>
            </channel>
            <channel id="s3-fault-code" typeId="string">
                <label>S3 FaultCode</label>
            </channel>
            <channel id="s3-dc-link-voltage" typeId="electric-potential">
                <label>S3 DC Link Voltage</label>
            </channel>
            <channel id="s3-timestamp" typeId="date-time">
                <label>S3 Time Stamp When Message was Published</label>
            </channel>
            <channel id="eso-id" typeId="string">
                <label>Eso Unique Identifier</label>
            </channel>
            <channel id="eso-voltage-battery" typeId="electric-potential">
                <label>Eso Voltage Measured on Battery Side</label>
            </channel>
            <channel id="eso-current-battery" typeId="electric-current">
                <label>Eso Current Measured on Battery Side</label>
            </channel>
            <channel id="eso-battery-energy-produced" typeId="energy">
                <label>Eso Battery Energy Produced</label>
            </channel>
            <channel id="eso-battery-energy-consumed" typeId="energy">
                <label>Eso Battery Energy Consumed</label>
            </channel>
            <channel id="eso-soc" typeId="dimensionless">
                <label>Eso State of Charge</label>
            </channel>
            <channel id="eso-relay-status" typeId="string">
                <label>Eso RelayStatus</label>
            </channel>
            <channel id="eso-temperature" typeId="temperature">
                <label>ESO Temperature Measured on PCB</label>
            </channel>
            <channel id="eso-fault-code" typeId="string">
                <label>Eso FaultCode</label>
            </channel>
            <channel id="eso-dc-link-voltage" typeId="electric-potential">
                <label>Eso DC Link Voltage</label>
            </channel>
            <channel id="eso-timestamp" typeId="date-time">
                <label>Eso Time Stamp When Message was Published</label>
            </channel>
            <channel id="esm-id" typeId="string">
                <label>Esm Unique Identifier</label>
            </channel>
            <channel id="esm-soh" typeId="dimensionless">
                <label>Esm System State of Health</label>
            </channel>
            <channel id="esm-soc" typeId="dimensionless">
                <label>Esm System State of Charge</label>
            </channel>
            <channel id="esm-total-capacity" typeId="energy">
                <label>Esm Rated Capacity</label>
            </channel>
            <channel id="esm-power-battery" typeId="power">
                <label>Esm Rated Power of Battery</label>
            </channel>
            <channel id="esm-status" typeId="string">
                <label>Esm Status</label>
            </channel>
            <channel id="esm-timestamp" typeId="date-time">
                <label>Esm Time Stamp When Message was Published</label>
            </channel>
            <channel id="request-charge" typeId="request">
                <label>RequestCharge</label>
            </channel>
            <channel id="request-discharge" typeId="request">
                <label>RequestDischarge</label>
            </channel>
            <channel id="request-auto" typeId="request">
                <label>RequestAuto</label>
            </channel>
            <channel id="request-extapi-version" typeId="request-extapiversion">
                <label>RequestExtapiVersion</label>
            </channel>
        </channels>
        
        <config-description>
            <parameter name="hostName" type="text" required="true">
                <context>network-address</context>
                <label>Hostname</label>
                <description>Hostname or IP address of the device</description>
            </parameter>
            <parameter name="userName" type="text" required="true">
                <context>username</context>
                <label>Username</label>
                <description>Username to access the device</description>
            </parameter>
            <parameter name="password" type="text" required="true">
                <context>password</context>
                <label>Password</label>
                <description>Password to access the device</description>
            </parameter>
            <parameter name="hasBattery" type="boolean" required="false">
                <label>Battery Capable</label>
                <description>Ehub type, with/without battery</description>
                <default>false</default>
            </parameter>
            <parameter name="ssoS0" type="boolean" required="false">
                <label>SSO String S0 Available</label>
                <description>First SSO Unit Available </description>
            </parameter>
            <parameter name="ssoS1" type="boolean" required="false">
                <label>SSO String S1 Available</label>
                <description>Second SSO Unit Available</description>
            </parameter>
            <parameter name="ssoS2" type="boolean" required="false">
                <label>SSO String S2 Available</label>
                <description>Third SSO Unit Available</description>
            </parameter>
            <parameter name="ssoS3" type="boolean" required="false">
                <label>SSO String S3 Available</label>
                <description>Fourth SSO Unit Available</description>
            </parameter>
            <parameter name="eso" type="boolean" required="false">
                <label>ESO Module Available</label>
                <description>ESO Module Available</description>
            </parameter>
            <parameter name="esm" type="boolean" required="false">
                <label>ESM Module Available</label>
                <description>ESM Module Available</description>
            </parameter>
        </config-description>
    </thing-type>
    
    <channel-type id="energy">
        <item-type>Number:Energy</item-type>
        <label>Energy</label>
        <category>Energy</category>
        <state readOnly="true" pattern="%.2f %unit%"/>
    </channel-type>
    
    <channel-type id="electric-current">
        <item-type>Number:ElectricCurrent</item-type>
        <label>Electric Current</label>
        <category>Energy</category>
        <state readOnly="true" pattern="%.2f %unit%"/>
    </channel-type>
    
    <channel-type id="power">
        <item-type>Number:Power</item-type>
        <label>Power</label>
        <category>Energy</category>
        <state readOnly="true" pattern="%.2f %unit%"/>
    </channel-type>
    
    <channel-type id="date-time">
        <item-type>DateTime</item-type>
        <label>Date Time</label>
        <category>Energy</category>
        <state readOnly="true" pattern="%.2f %unit%"/>
    </channel-type>
    
    <channel-type id="electric-potential">
        <item-type>Number:ElectricPotential</item-type>
        <label>Electrical Potential</label>
        <category>Energy</category>
        <state readOnly="true" pattern="%.2f %unit%"/>
    </channel-type>
    
    <channel-type id="frequency">
        <item-type>Number:Frequency</item-type>
        <label>Frequency</label>
        <category>Energy</category>
        <state readOnly="true" pattern="%.2f %unit%"/>
    </channel-type>
    
    <channel-type id="dimensionless">
        <item-type>Number:Dimensionless</item-type>
        <label>Dimensionless</label>
        <category>Energy</category>
        <state readOnly="true" pattern="%.2f %unit%"/>
    </channel-type>
    
    <channel-type id="temperature">
        <item-type>Number:Temperature</item-type>
        <label>Temperature</label>
        <category>Energy</category>
        <state readOnly="true" pattern="%.2f %unit%"/>
    </channel-type>
    
    <channel-type id="string">
        <item-type>String</item-type>
        <label>String</label>
        <category>Energy</category>
        <state readOnly="true"/>
    </channel-type>
    
    <channel-type id="request">
        <item-type>String</item-type>
        <label>String</label>
        <description>Used for control of system</description>
        <category>Energy</category>
        <state readOnly="false"/>
    </channel-type>
    
    <channel-type id="request-extapiversion">
        <item-type>String</item-type>
        <label>Request-ExtapiVersion</label>
        <description>Returns Extapi Version</description>
        <category>Energy</category>
        <state readOnly="true"/>
    </channel-type>
    
</thing:thing-descriptions>
